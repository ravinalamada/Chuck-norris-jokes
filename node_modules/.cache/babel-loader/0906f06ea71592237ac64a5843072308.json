{"ast":null,"code":"var _jsxFileName = \"/home/student/Coding/projects/Chuck-norris-jokes/jokes-app/src/context/GlobalContextProvider.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useReducer, useEffect, createContext, useState } from 'react';\nimport axios from 'axios';\nimport reducer from './Reducer';\nimport { RANDOM_API, LIMIT_TO } from '../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialValue = {\n  loading: true,\n  jokes: [],\n  nameToReplace: '',\n  category: '',\n  selectCountryByRegion: () => {},\n  setNameToReplace: () => {},\n  handleSubmit: () => {}\n};\nexport const Context = /*#__PURE__*/createContext(initialValue);\nexport const GlobalContext = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialValue);\n  const [jokesData, setJokesData] = useState({\n    name: '',\n    category: ''\n  });\n\n  const fetchRandomJokes = async () => {\n    var _getJokesData$data;\n\n    const getJokesData = await axios(RANDOM_API);\n    dispatch({\n      type: 'FETCH_RANDOM_JOKES',\n      payload: getJokesData === null || getJokesData === void 0 ? void 0 : (_getJokesData$data = getJokesData.data) === null || _getJokesData$data === void 0 ? void 0 : _getJokesData$data.value\n    });\n  };\n\n  const fetchJokesWithCategory = async () => {\n    var _getJokesWithCategory;\n\n    const getJokesWithCategory = await axios(`${RANDOM_API}${LIMIT_TO}=[${state.category}]`);\n    dispatch({\n      type: 'FETCH_JOKES_WITH_CATEGORY',\n      payload: getJokesWithCategory === null || getJokesWithCategory === void 0 ? void 0 : (_getJokesWithCategory = getJokesWithCategory.data) === null || _getJokesWithCategory === void 0 ? void 0 : _getJokesWithCategory.value\n    });\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const nameObj = {\n      name: state.nameToReplace,\n      category: state.category\n    };\n    setJokesData(nameObj);\n    state.setNameToReplace(' ');\n  }\n\n  useEffect(() => {\n    if (jokesData.category !== '') {\n      fetchJokesWithCategory();\n    } else {\n      fetchRandomJokes();\n    }\n  }, [jokesData]);\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      jokes: state.jokes,\n      loading: state.loading,\n      nameToReplace: state.nameToReplace,\n      category: state.category,\n      setNameToReplace: e => dispatch({\n        type: 'SEARCH_COUNTRY_BY_NAME',\n        payload: e.target.value\n      }),\n      selectCountryByRegion: e => dispatch({\n        type: 'SELECT_COUNTRY_BY_REGION',\n        payload: e.target.value\n      }),\n      handleSubmit,\n      jokesData\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GlobalContext, \"ACJAMeJGzX9xZrtAo/x6DxtJW1o=\");\n\n_c = GlobalContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"GlobalContext\");","map":{"version":3,"sources":["/home/student/Coding/projects/Chuck-norris-jokes/jokes-app/src/context/GlobalContextProvider.tsx"],"names":["React","useReducer","useEffect","createContext","useState","axios","reducer","RANDOM_API","LIMIT_TO","initialValue","loading","jokes","nameToReplace","category","selectCountryByRegion","setNameToReplace","handleSubmit","Context","GlobalContext","children","state","dispatch","jokesData","setJokesData","name","fetchRandomJokes","getJokesData","type","payload","data","value","fetchJokesWithCategory","getJokesWithCategory","e","preventDefault","nameObj","target"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,aAAvC,EAAsDC,QAAtD,QAAsE,OAAtE;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,OAAP,MAAoB,WAApB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,cAArC;;AAEA,MAAMC,YAAmB,GAAG;AAC1BC,EAAAA,OAAO,EAAE,IADiB;AAE1BC,EAAAA,KAAK,EAAE,EAFmB;AAG1BC,EAAAA,aAAa,EAAE,EAHW;AAI1BC,EAAAA,QAAQ,EAAE,EAJgB;AAK1BC,EAAAA,qBAAqB,EAAE,MAAM,CAAE,CALL;AAM1BC,EAAAA,gBAAgB,EAAE,MAAM,CAAE,CANA;AAO1BC,EAAAA,YAAY,EAAE,MAAM,CAAE;AAPI,CAA5B;AAUA,OAAO,MAAMC,OAAO,gBAAGd,aAAa,CAACM,YAAD,CAA7B;AAEP,OAAO,MAAMS,aAAuB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AACvD,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBpB,UAAU,CAACK,OAAD,EAAUG,YAAV,CAApC;AACA,QAAM,CAACa,SAAD,EAAYC,YAAZ,IAA4BnB,QAAQ,CAAC;AACzCoB,IAAAA,IAAI,EAAE,EADmC;AAEzCX,IAAAA,QAAQ,EAAE;AAF+B,GAAD,CAA1C;;AAKA,QAAMY,gBAAgB,GAAG,YAAY;AAAA;;AACnC,UAAMC,YAAY,GAAG,MAAMrB,KAAK,CAACE,UAAD,CAAhC;AACAc,IAAAA,QAAQ,CAAC;AAAEM,MAAAA,IAAI,EAAE,oBAAR;AAA8BC,MAAAA,OAAO,EAAEF,YAAF,aAAEA,YAAF,6CAAEA,YAAY,CAAEG,IAAhB,uDAAE,mBAAoBC;AAA3D,KAAD,CAAR;AACD,GAHD;;AAKA,QAAMC,sBAAsB,GAAG,YAAY;AAAA;;AACzC,UAAMC,oBAAoB,GAAG,MAAM3B,KAAK,CACrC,GAAEE,UAAW,GAAEC,QAAS,KAAIY,KAAK,CAACP,QAAS,GADN,CAAxC;AAGAQ,IAAAA,QAAQ,CAAC;AACPM,MAAAA,IAAI,EAAE,2BADC;AAEPC,MAAAA,OAAO,EAAEI,oBAAF,aAAEA,oBAAF,gDAAEA,oBAAoB,CAAEH,IAAxB,0DAAE,sBAA4BC;AAF9B,KAAD,CAAR;AAID,GARD;;AAUA,WAASd,YAAT,CAAsBiB,CAAtB,EAA2D;AACzDA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,OAAO,GAAG;AACdX,MAAAA,IAAI,EAAEJ,KAAK,CAACR,aADE;AAEdC,MAAAA,QAAQ,EAAEO,KAAK,CAACP;AAFF,KAAhB;AAIAU,IAAAA,YAAY,CAACY,OAAD,CAAZ;AACAf,IAAAA,KAAK,CAACL,gBAAN,CAAuB,GAAvB;AACD;;AAEDb,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIoB,SAAS,CAACT,QAAV,KAAuB,EAA3B,EAA+B;AAC7BkB,MAAAA,sBAAsB;AACvB,KAFD,MAEO;AACLN,MAAAA,gBAAgB;AACjB;AACF,GANQ,EAMN,CAACH,SAAD,CANM,CAAT;AAQA,sBACE,QAAC,OAAD,CAAS,QAAT;AACE,IAAA,KAAK,EAAE;AACLX,MAAAA,KAAK,EAAES,KAAK,CAACT,KADR;AAELD,MAAAA,OAAO,EAAEU,KAAK,CAACV,OAFV;AAGLE,MAAAA,aAAa,EAAEQ,KAAK,CAACR,aAHhB;AAILC,MAAAA,QAAQ,EAAEO,KAAK,CAACP,QAJX;AAKLE,MAAAA,gBAAgB,EAAGkB,CAAD,IAChBZ,QAAQ,CAAC;AAAEM,QAAAA,IAAI,EAAE,wBAAR;AAAkCC,QAAAA,OAAO,EAAEK,CAAC,CAACG,MAAF,CAASN;AAApD,OAAD,CANL;AAOLhB,MAAAA,qBAAqB,EAAGmB,CAAD,IACrBZ,QAAQ,CAAC;AACPM,QAAAA,IAAI,EAAE,0BADC;AAEPC,QAAAA,OAAO,EAAEK,CAAC,CAACG,MAAF,CAASN;AAFX,OAAD,CARL;AAYLd,MAAAA,YAZK;AAaLM,MAAAA;AAbK,KADT;AAAA,cAgBGH;AAhBH;AAAA;AAAA;AAAA;AAAA,UADF;AAoBD,CA5DM;;GAAMD,a;;KAAAA,a","sourcesContent":["import React, { useReducer, useEffect, createContext, useState } from 'react'\nimport axios from 'axios'\nimport { State } from '../utils/Types'\nimport reducer from './Reducer'\nimport { RANDOM_API, LIMIT_TO } from '../constants'\n\nconst initialValue: State = {\n  loading: true,\n  jokes: [],\n  nameToReplace: '',\n  category: '',\n  selectCountryByRegion: () => {},\n  setNameToReplace: () => {},\n  handleSubmit: () => {},\n}\n\nexport const Context = createContext(initialValue)\n\nexport const GlobalContext: React.FC = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialValue)\n  const [jokesData, setJokesData] = useState({\n    name: '',\n    category: '',\n  })\n\n  const fetchRandomJokes = async () => {\n    const getJokesData = await axios(RANDOM_API)\n    dispatch({ type: 'FETCH_RANDOM_JOKES', payload: getJokesData?.data?.value })\n  }\n\n  const fetchJokesWithCategory = async () => {\n    const getJokesWithCategory = await axios(\n      `${RANDOM_API}${LIMIT_TO}=[${state.category}]`\n    )\n    dispatch({\n      type: 'FETCH_JOKES_WITH_CATEGORY',\n      payload: getJokesWithCategory?.data?.value,\n    })\n  }\n\n  function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault()\n    const nameObj = {\n      name: state.nameToReplace,\n      category: state.category,\n    }\n    setJokesData(nameObj)\n    state.setNameToReplace(' ')\n  }\n\n  useEffect(() => {\n    if (jokesData.category !== '') {\n      fetchJokesWithCategory()\n    } else {\n      fetchRandomJokes()\n    }\n  }, [jokesData])\n\n  return (\n    <Context.Provider\n      value={{\n        jokes: state.jokes,\n        loading: state.loading,\n        nameToReplace: state.nameToReplace,\n        category: state.category,\n        setNameToReplace: (e) =>\n          dispatch({ type: 'SEARCH_COUNTRY_BY_NAME', payload: e.target.value }),\n        selectCountryByRegion: (e) =>\n          dispatch({\n            type: 'SELECT_COUNTRY_BY_REGION',\n            payload: e.target.value,\n          }),\n        handleSubmit,\n        jokesData,\n      }}>\n      {children}\n    </Context.Provider>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}